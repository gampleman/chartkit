!function(t,e){"use strict";function r(e,r){var n={};return t.forEach(r,function(t){null!=e[t]&&(n[t]=e[t],delete e[t])}),n}function n(e,r){t.forEach(e,function(a,o){r(e,o,a),t.isArray(a)?a.forEach(function(t){n(t,r)}):t.isObject(a)&&n(a,r)})}function a(e,a){return["$injector","Highcharts","$compile","$rootScope","$templateRequest","$q",function(o,i,c,l,u,s){var f=o.invoke(a),p=r(f,["scope","link","require","transform"]),d=[];n(f,function(t,e,r){"formatter"===e&&r.templateUrl&&d.push(u(r.templateUrl).then(function(t){delete r.templateUrl,r.template=t}))});var h={restrict:"E",scope:p.scope||{data:"="},compile:function(r){var a=s.defer();return r.data("$"+e+"Controller",a.promise),function(e,r,o,l){s.all(d).then(function(){function u(t){var e={};return t.forEach(function(t){if(!t.id||e[t.id])throw t.id?Error("Duplicate ids are not supported in transform"):Error("Series without an explicit id are not supported in transform");e[t.id]=t}),e}n(f,function(r,n,a){if("events"===n&&t.forEach(a,function(t,r){a[r]=function(){var r=this,n=[].slice.call(arguments);e.$apply(function(){t.apply(r,n.concat([e]))})}}),"formatter"===n&&a.template){if(!r.useHTML)throw Error("A formatter.template or formatter.templateUrl value must specify useHTML as true");var o=a.template,i=c(o);r.formatter=function(){return{linkFn:i,scope:e,data:this}}}});var s=i.chart(r[0],f);if(a.resolve(s),f.loading&&s.showLoading(),(!p.scope||p.scope.data)&&p.transform){var d=f.series||[];e.$watch("data",function(r){if(r&&(t.isArray(r)&&r.length>0||!t.isArray(r))){f.loading&&s.hideLoading();var n=u(p.transform(r,s,e));t.forEach(n,function(e,r){if(d[r]){var n=e.data,a=d[r].data,o=s.get(r);delete e.data,delete d[r].data,t.equals(e,d[r])?(t.equals(n,a)||o.setData(t.copy(n),!1),e.data=n):(e.data=n,o.update(t.copy(e),!1))}else s.addSeries(t.copy(e),!1)}),t.forEach(d,function(t,e){n[e]||s.get(e).remove(!1)}),s.redraw(),d=n}})}p.link&&(l?(t.isArray(l)||(l=[l]),l.unshift(s)):l=s,p.link(e,r,o,l))})}}};return p.require&&(h.require=p.require),h}]}var o=t.module;t.module=function(){var e=o.apply(t,arguments);return e.chart=function(t,r){return e.directive(t+"Chart",a(t+"Chart",r))},e};var i=e.SVGRenderer.prototype.html;e.SVGRenderer.prototype.html=function(){var e=i.apply(this,arguments),r=e.textSetter;return e.textSetter=function(n){n.linkFn?(delete e.bBox,e.scope?(t.extend(e.scope,n.data),n.scope.$applyAsync(function(){e.textStr=e.element.innerHTML,e.htmlUpdateTransform()})):n.linkFn(n.scope.$new(),function(r,a){for(e.scope=a,t.extend(e.scope,n.data);e.element.firstChild;)e.element.removeChild(e.element.firstChild);e.element.appendChild(r[0]),e.textStr=r[0].innerHTML,e.htmlUpdateTransform()})):r.apply(this,arguments)},arguments.length&&arguments[0]&&e.attr({text:arguments[0]}),e},t.module("chartkit",[]).constant("Highcharts",e)}(window.angular,window.Highcharts);